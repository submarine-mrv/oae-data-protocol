id: Experiment
name: Experiment

prefixes:
  oae: "https://example.org/oae#"
  schema: "http://schema.org/"

default_prefix: oae

classes:
  Experiment:
    description: >-
      Experiment metadata applies to a specific study but remains consistent across datasets.
    slots:
      - name
      - description
      - spatial_coverage
      - vertical_coverage
    slot_usage:
      name:
        title: Experiment ID
        description: >-
          The experiment to which the data belong. Any naming convention that produces a unique ID is usable.
          The recommended naming convention is:
          
          Project ID + Experiment type + Optional numerical indicator to differentiate between various experiments of
          the same type for a project. A two digit consecutive number beginning with 01
        required: true
      description:
        title: Experiment Description
        description: >-
          A narrative description of the experiment. For example, what part of the project do these data represent
          (e.g., baseline, intervention, control) and what do they contribute to the overall project? Are all project
          research questions listed in Project description relevant? What were the processes to achieve these goals and
          answer these questions? Data submitters are encouraged to note any significant changes to the original
          experimental plan due to unforeseen circumstances here.
        required: true
      spatial_coverage:
        description: >-
          Latitude/longitude bounds of observed data in experiment, provided in decimal degrees as westernmost
          longitude, southernmost latitude, easternmost longitude, northernmost latitude. [S, W, N, E]
        required: true
      vertical_coverage:
        description: Minimum and maximum depths of observations in meters.
        required: true
    attributes:
      project_id:
        title: Project ID
        description: >-
          Project ID must be included in the Experiment-level metadata in order to link all experiments to the main
          project.

          The project to which the submitted data belong. A unique project identifier that can be used to link project
          data across data submissions, and link baseline data to intervention data, for example.

          If no Project ID has been assigned, one may be generated by combining the following fields, as described in
          Cross-linking Data Sets with Common Identifiers.

          Any method that creates a unique ID that will link all project data (e.g., a project's baseline data to
          intervention data, and various data submissions within an experiment type) is acceptable.
        range: string
        required: true
      experiment_type:
        title: mCDR Experiment Type
        description: "The type of mCDR experiment conducted. See Controlled Vocabularies section for definitions."
        range: ExperimentType
        required: true
      investigators:
        title: Investigators
        description: >-
          Provide details for each investigator including: Name, institutional information (name, address),
          phone, email, ID type (e.g., ORCID, etc), researcher ID, and role.
        range: Investigator
        multivalued: true
        inlined_as_list: true
        required: true
      start_datetime:
        title: Start Date and Time
        description: "Start date and time of experiment in UTC ISO-8601"
        range: datetime
        required: true
      end_datetime:
        title: End Date and Time
        description: "End date and time of experiment in UTC ISO-8601"
        range: datetime
        required: true
      data_conflicts_and_unreported_data:
        title: Data Conflicts and Unreported Data
        description: >-
          If data exist that are or have been used by the project but are not provided due to conflicts (e.g., geopolitical or other), data availability (e.g., a dataset is no longer available), it may be noted here.
        range: string
      meteorological_and_tidal_data:
        title: Meteorological and Tidal Data
        description: >-
          Include links to relevant open datasets if referenced in the experiment but not provided in the submission.
        range: NamedLink
        multivalued: true
        inlined_as_list: true
      additional_details:
        title: Additional Details
        description: >-
          Open text area to include additional information. These may include information for sediment processes data,
          biological data, or any other required information if not included in the main metadata or data files; see
          General Guidelines for Your Data for relevant sections of your data. Additional informational files, such
          as digitized laboratory notebooks, blogs, etc., may be linked here.
        range: string

  Investigator:
    description: "Information about a researcher or investigator involved in the experiment."
    attributes:
      name:
        title: Name
        description: "Full name of the investigator."
        range: string
        required: true
      affiliation:
        title: Affiliation
        description: "Institutional affiliation of the investigator."
        range: Organization
      phone:
        title: Phone
        description: "Contact phone number."
        range: string
        pattern: '^\+?[0-9\s\-\(\)]+$'
      email:
        title: Email
        description: "Contact email address."
        range: string
        pattern: '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
      identifier_type:
        title: Identifier Type
        description: "Type of researcher identifier (e.g., ORCID, ResearcherID)."
        range: string
      identifier:
        title: Researcher ID
        description: "Unique researcher identifier value."
        range: string
      role:
        title: Role
        description: "Role of the investigator in the experiment (e.g., chief scientist, data submitter)."
        range: string

  Intervention:
    is_a: Experiment
    description: >-
      Additional metadata that applies to experiments where an intervention, such as an alkalinity addition, was conducted.
    attributes:
      alkalinity_feedstock_processing:
        title: Alkalinity Feedstock Processing
        description: "Method(s) used to process the alkalinity feedstock. See Controlled Vocabularies section for definitions."
        range: AlkalinityFeedstockProcessing
        multivalued: true
        required: true
      alkalinity_feedstock_form:
        title: Alkalinity Feedstock Form
        description: "The phase upon delivery to the ocean. See Controlled Vocabularies section for definitions."
        range: AlkalinityFeedstockForm
        required: true
      alkalinity_feedstock:
        title: Alkalinity Feedstock
        description: >-
          Examples may include: olivine, potassium hydroxide, magnesium hydroxide, lime, portlandite, calcium carbonate, anorthite, dolomite, periclase, brucite, magnesite, forsterite, sodium hydroxide, natrite, nahcolite, akermanite, akermanite, alunoakermanite, etc.

          See Controlled Vocabularies section for selected examples (this list is not exhaustive, you may need to include your unique feedstock).
        range: FeedstockType
        required: true
      alkalinity_feedstock_co2_removal_potential:
        title: Alkalinity Feedstock CO₂ Removal Potential
        description: >-
          Maximum CO₂ removal potential of a feedstock material. We recommend using an adjusted version of the Steinour equation (Gunning et al., 2010), which uses bulk elemental oxide composition to estimate the maximum CO₂ removal potential of a feedstock material. The calculation output is in the form of kg of CO₂ per tonne of feedstock and represents the quantitative hypothetical potential of the material to capture CO₂ as bicarbonate or carbonate. See Isometric's CO2 removal potential module for details.
        range: float
      alkalinity_feedstock_description:
        title: Alkalinity Feedstock Description
        description: >-
          Information such as feedstock source, characteristics, impurities, dilution prior to dosing, and concentration. For feedstock other than NaOH: trace metal composition and particulate grain size. Any variable information must be provided in the dosing data file, in this case include the data file and column header names here provided as variables. See Intervention Data for details.
        range: string
        required: true
      equilibration:
        title: Equilibration
        description: "Whether the feedstock was pre-equilibrated or unequilibrated"
        range: EquilibrationStatus
        required: true
      dosing_location:
        title: Dosing Location
        description: >-
          Provide latitude and longitude in decimal degrees. Depending on your method of dispersal, this information may be provided as a point source, vector, or bounding box. If provided as a vector, the latitude and longitude values should be included in the dosing data file.
        range: GeoCoordinate
        required: true
      dosing_dispersal_hydrologic_location:
        title: Dosing Dispersal Hydrologic Location
        description: "Descriptive dosing location"
        range: HydrologicLocation
        required: true
      dosing_delivery_type:
        title: Dosing Delivery Type
        description: "Type of dosing delivery method. See Controlled Vocabularies for definitions."
        range: DosingDeliveryType
        required: true
      alkalinity_dosing_effluent_density:
        title: Alkalinity Dosing Effluent Density
        description: >-
          Fixed density or provide link/source to effluent density data if applicable. Please include whether density is directly measured or a derived value. If this is a variable included with your data, please note so here as 'alkalinity dosing effluent density is provided as a variable' and use 'dosing_effluent_density' for your column header name.
        range: string
        required: true
      dosing_depth:
        title: Dosing Depth(s)
        description: >-
          Depth(s) in meters. If this is variable, please include the schedule of depth changes and depths, or as a vector in meters with the data, named 'dosing_depth'. Please note here that 'dosing depth is provided as a variable'.
        range: string
        required: true
      dosing_description:
        title: Dosing Description
        description: >-
          Please be descriptive. Information about the dosing mechanism must be included (e.g., outflow from pipe, diffuser, doser, manual placement)
          E.g., outflow from existing facility pipe directly to ocean, manual riverine introduction, coastal distribution at three separate 30 meter long sections, pier-based diffuser to intercoastal bay, distributed from stationary barge 10 miles offshore.
        range: string
        required: true
      dosing_regimen:
        title: Dosing Regimen
        description: >-
          At a minimum, please provide the schedule and timeline of dosing, including the time between doses, the duration of treatment and the amount used each time. More optimally, this information would be provided as a vector of binary data in the data file where 1 = dosing 'on' 0 = dosing 'off', using the column header name 'dosing_onoff'. If provided as a vector state here as 'dosing regimen is provided as a variable' and include the file name. See Intervention Data for details.
        range: string
        required: true
      dosing_data:
        title: Dosing Data
        description: >-
          Dosing data include: flow rate, dosing rate, and mineral mass addition rate. If any of these are constant, values may be given here rather than in the dosing data file. To link dosing data that have been provided as vector data provide the source or filename. See Intervention Data for details.
          Provide a description of the units for dosing rate provided as this will vary depending on the method.
        range: string
        required: true

  GeoCoordinate:
    description: "A geographic coordinate in decimal degrees."
    attributes:
      latitude:
        title: Latitude
        description: "Latitude in decimal degrees"
        range: float
        required: true
      longitude:
        title: Longitude
        description: "Longitude in decimal degrees"
        range: float
        required: true

enums:
